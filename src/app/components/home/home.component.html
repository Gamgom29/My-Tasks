<section class="home mt-4 px-4">
    <div class="container d-flex justify-content-between gap-3">
        <div class="w-25 d-flex justify-content-center bg-white flex-column rounded-3 ">
            <div class="d-flex ">
                <img class="tasks-img ms-2 mt-2" src="./assets/images/Inipagi-Job-Seeker-Notes.512.png" alt="">              
                <span class="fs-4 mt-3 ms-4">All Tasks</span>
            </div>
            <p class="fs-1 ms-2">{{allTasksCount}}</p>
        </div>

        <div class="w-25 d-flex justify-content-center bg-white flex-column rounded-3 ">
            <div class="d-flex">
                <img class="tasks-img ms-2 mt-2" src="./assets/images/tasks-tick-svgrepo-com.svg" alt="">
                <span class="fs-4 mt-3 ms-3">Completed Tasks</span>
            </div>
            <p class="fs-1 ms-2">{{done.length}}</p>
        </div>
        
        <div class="w-25 d-flex justify-content-center bg-white flex-column rounded-3 ">
            <div class="d-flex">
                <img class="tasks-img ms-2 mt-2" src="./assets/images/clipboard-tasks-svgrepo-com.svg" alt="">
                <span class="fs-4 mt-3 ms-4">In Progress</span>
            </div>
            <p class="fs-1 ms-2">{{todo.length}}</p>
        </div>
    </div>
    <div class="d-flex justify-content-center gap-5 mt-4">
        <div>
            <input [(ngModel)]="searchTerm" type="text" class="form-control" placeholder="Search..">
        </div>
        <div>
            <button (click)="openDialog()" class="btn btn-primary px-3">Create New Task</button>
        </div>
    </div>

    <div class="mt-3 text-center">
        <div cdkDropListGroup>
            <div class="example-container">
            <h2 class="text-center">To do</h2>
            <div
            cdkDropList
            [cdkDropListData]="todo"
            class="example-list rounded-3"
            (cdkDropListDropped)="drop($event)">
            @for (item of todo|search:searchTerm; track item) {
                <div class="d-flex justify-content-between">
                    <span  class="text-start d-block ms-2 mt-1 fs-5 fw-bolder">{{item.name}} : </span>
                    <span class="me-2 mt-2"><i class="fas fa-trash fs-5 text-danger cursor-pointer" (click)="delTask(item._id)"></i></span>
                </div>
                <div class="example-box" cdkDrag>
                    <p>{{item.content}}</p>
                </div>
            }
            </div>
        </div>
        
        <div class="example-container">
            <h2 class="text-center">Done</h2>
            <div
            cdkDropList
            [cdkDropListData]="done"
            class="example-list rounded-3 "
            (cdkDropListDropped)="drop($event)">
            @for (item of done; track item;) {
                <div class="d-flex justify-content-between">
                    <span  class="text-start d-block ms-2 mt-1 fs-5 fw-bolder">{{item.name}} : </span>
                    <span class="me-2 mt-2"><i class="fas fa-trash fs-5 text-danger cursor-pointer" (click)="delTask(item._id)"></i></span>
                </div>
                <div class="example-box" cdk-drag-disabled>
                    <p>{{item.content}}</p>
                </div>
            }
            </div>
        </div>
        </div>
    </div>
</section>